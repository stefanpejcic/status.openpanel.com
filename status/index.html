<!DOCTYPE html>
<html lang="en" x-data="domainMonitor()" x-init="init()">
<head>
  <meta charset="UTF-8">
  <title>Status Page</title>
  <style>
    [x-cloak] { display: none !important; }
  </style>  
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js" defer></script>
</head>
<body class="bg-gray-900 text-gray-50 px-6 flex flex-col min-h-screen">

<div class="max-w-5xl w-full mx-auto space-y-10">

  <!-- Header -->
  <div class="pt-20 flex flex-col items-center">
    
    <div class="flex gap-4 justify-between items-center w-full p-4 rounded-lg" :class="allUp ? 'bg-emerald-100 dark:bg-emerald-400/20 dark:to-emerald-500/10' : 'bg-red-100 dark:bg-red-400/20 dark:to-red-500/10'">     
      <div class="flex gap-2">
        <span class="p-2 mx-auto inline-flex items-center justify-center rounded-full"
              :class="allUp ? 'bg-emerald-100 dark:bg-emerald-400/20' : 'bg-red-100 dark:bg-red-400/20'">
          <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" aria-hidden="true" class="remixicon text-green size-10"
               :class="allUp ? 'text-emerald-500' : 'text-red-600'">
            <path x-show="allUp" d="M12 22C17.523 22 22 17.523 22 12 22 6.477 17.523 2 12 2 6.477 2 2 6.477 2 12 2 17.523 6.477 22 12 22ZM17.457 9.457 11 15.914 6.793 11.707 8.207 10.293 11 13.086 16.043 8.043 17.457 9.457Z"></path><path x-show="!allUp" d="M12 22C17.523 22 22 17.523 22 12 22 6.477 17.523 2 12 2 6.477 2 2 6.477 2 12 2 17.523 6.477 22 12 22ZM15 9l-6 6M9 9l6 6"></path>
          </svg>
        </span>
        <div>
          <h3 class="text-xl font-medium text-gray-900 dark:text-gray-50" x-text="allUp ? 'No issues detected' : 'Issues detected'"></h3>
          <p class="pt-1 text-sm text-gray-700 dark:text-gray-300">Last updated on <span x-text="lastUpdated"></span></p>
        </div>
      </div>
      <!-- Subscribe button with dropdown -->
      <div x-data="{ open: false, showApiModal: false }" class="relative inline-block text-left">
        <button @mouseenter="open = true" @mouseleave="open = false"
                class="relative inline-flex items-center justify-center whitespace-nowrap rounded-md border px-3 py-2 text-center text-sm font-medium shadow-sm transition-all duration-100 ease-in-out outline outline-offset-2 outline-0 focus-visible:outline-2 outline-blue-500 dark:outline-blue-500 border-gray-300 dark:border-gray-800 text-gray-900 dark:text-gray-50 bg-white dark:bg-gray-950 hover:bg-gray-50 dark:hover:bg-gray-900/60">
          Subscribe
          <svg class="ml-1 w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
          </svg>
        </button>
      
        <!-- Dropdown menu -->
        <div x-show="open" @mouseenter="open = true" @mouseleave="open = false"
             x-transition:enter="transition ease-out duration-100"
             x-transition:enter-start="opacity-0 scale-95"
             x-transition:enter-end="opacity-100 scale-100"
             x-transition:leave="transition ease-in duration-75"
             x-transition:leave-start="opacity-100 scale-100"
             x-transition:leave-end="opacity-0 scale-95"
             class="absolute mt-2 w-48 rounded-md shadow-lg bg-white dark:bg-gray-900 ring-1 ring-black ring-opacity-5 focus:outline-none z-50">
          
          <ul class="py-1">
            <!-- RSS -->
            <li>
              <a href="index.xml" target="_blank" 
                 class="flex items-center gap-2 px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-800">
                <svg viewBox="0 0 512 512" class="w-5 h-5">
                  <path d="M108.56 342.78a60.34 60.34 0 1 0 60.56 60.44 60.63 60.63 0 0 0-60.56-60.44Z"></path>
                  <path d="M48 186.67v86.55c52 0 101.94 15.39 138.67 52.11s52 86.56 52 138.67h86.66c0-151.56-125.66-277.33-277.33-277.33Z"></path>
                  <path d="M48 48v86.56c185.25 0 329.22 144.08 329.22 329.44H464C464 234.66 277.67 48 48 48Z"></path>
                </svg>
                RSS
              </a>
            </li>
      
            <!-- API -->
            <li @click="showApiModal = true"
                class="flex items-center gap-2 px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-800 cursor-pointer">
              <svg viewBox="0 0 512 512" class="w-5 h-5">
                <path d="M160 389a20.91 20.91 0 0 1-13.82-5.2l-128-112a21 21 0 0 1 0-31.6l128-112a21 21 0 0 1 27.66 31.61L63.89 256l109.94 96.19A21 21 0 0 1 160 389zm192 0a21 21 0 0 1-13.84-36.81L448.11 256l-109.94-96.19a21 21 0 0 1 27.66-31.61l128 112a21 21 0 0 1 0 31.6l-128 112A20.89 20.89 0 0 1 352 389zm-144 48a21 21 0 0 1-20.12-27l96-320a21 21 0 1 1 40.23 12l-96 320A21 21 0 0 1 208 437z"></path>
              </svg>
              API
            </li>
          </ul>
        </div>
      
        <!-- API modal -->
        <div x-show="showApiModal" x-transition x-cloak class="fixed inset-0 flex items-center justify-center z-50">
          <div class="fixed inset-0 bg-black bg-opacity-50" @click="showApiModal = false"></div>
          <div class="bg-white dark:bg-gray-900 rounded-lg shadow-xl max-w-md w-full p-6 z-50">
            <h4 class="text-lg font-semibold mb-4 text-gray-900 dark:text-gray-50">API Info</h4>
            <p class="text-gray-700 dark:text-gray-300 mb-4">
              You can use our API to integrate the information and updates from this status page into your own website or application. Simply make a <code>GET</code> request to the following URL:
            </p>
            <p class="bg-gray-100 dark:bg-gray-800 p-2 rounded text-gray-900 dark:text-gray-50 break-words">
              <code x-text="`${window.location.origin}/status/status.json`"></code>
            </p>

            <p class="text-sm text-gray-700 dark:text-gray-300 mt-4">
              Please note that <a hred="https://docs.github.com/en/pages/getting-started-with-github-pages/github-pages-limits#usage-limits" target="_blank">the API may be subject to rate limiting</a>.
            </p>

            <div class="mt-4 text-right">
              <button @click="showApiModal = false"
                      class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition">
                Close
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
    
<div class="mt-2 flex">
  <button 
    @click="
      const shouldOpen = domains.some(d => !d.open);
      domains.forEach(d => d.open = shouldOpen);
    "
    class="px-3 py-1.5 text-sm rounded bg-gray-200 dark:bg-gray-700 
           text-gray-900 dark:text-gray-100 hover:bg-gray-300 dark:hover:bg-gray-600 w-full text-center"
    x-text="domains.some(d => !d.open) ? 'Expand All' : 'Close All'">
  </button>  
</div>

    
  </div>

  <div class="rounded-lg bg-white dark:bg-[#090E1A]">
    <template x-for="(domain, idx) in domains" :key="idx">
      <div class="rounded-lg p-4 bg-white dark:bg-[#090E1A] dark:border-gray-900 space-y-2">
        
        <!-- Toggle -->
        <button @click="domain.open = !domain.open"
                class="w-full flex justify-between items-center bg-gray-100 dark:bg-gray-800 p-4 rounded-lg text-sm font-medium text-gray-900 dark:text-gray-50">
          <span x-text="domain.domain"></span>
          <span class="flex items-center gap-1" :class="domain.http_ok ? 'text-emerald-500' : 'text-red-600'">
            <svg viewBox="0 0 24 24" width="20" height="20" fill="currentColor">
              <path x-show="domain.http_ok" d="M12 22C17.523 22 22 17.523 22 12 22 6.477 17.523 2 12 2 6.477 2 2 6.477 2 12 2 17.523 6.477 22 12 22ZM17.457 9.457 11 15.914 6.793 11.707 8.207 10.293 11 13.086 16.043 8.043 17.457 9.457Z"></path>
              <path x-show="!domain.http_ok" d="M12 22C17.523 22 22 17.523 22 12 22 6.477 17.523 2 12 2 6.477 2 2 6.477 2 12 2 17.523 6.477 22 12 22ZM15 9l-6 6M9 9l6 6"></path>
            </svg>
            <span x-text="domain.http_ok ? 'Operational' : 'Down'"></span>
          </span>
        </button>
  
        <!-- Panel -->
        <div x-show="domain.open" class="mt-2 p-2 space-y-2 text-sm text-gray-700 dark:text-gray-200">

          <div class="space-y-2">

            <!-- name and btn -->
            <div class="flex gap-4 justify-between items-center">
              <h3 class="mt-2 text-lg font-medium text-gray-900 dark:text-gray-50">
                <a :href="`http://${domain.domain}`" :title="`Visit http://${domain.domain}`" target="_blank"
                   class="relative border-b-2 border-transparent hover:border-gray-900 dark:hover:border-gray-50 transition-all duration-300"
                   x-text="domain.domain"></a>
              </h3>
          
              <a :href="`domain.html?domain=${domain.domain}`"
                 class="relative inline-flex items-center justify-center whitespace-nowrap rounded-md border px-3 py-2 text-center text-sm font-medium shadow-sm transition-all duration-100 ease-in-out disabled:pointer-events-none disabled:shadow-none outline outline-offset-2 outline-0 focus-visible:outline-2 outline-blue-500 dark:outline-blue-500 border-gray-300 dark:border-gray-800 text-gray-900 dark:text-gray-50 bg-white dark:bg-gray-950 hover:bg-gray-50 dark:hover:bg-gray-900/60 disabled:text-gray-400 disabled:dark:text-gray-600">
                 View Detailed Data
              </a>
            </div>
          </div>


          <div class="flex flex-wrap gap-2 pb-2">
            <!-- Checked from -->
            <span class="inline-flex items-center gap-1.5 rounded-md bg-gray-100 px-2.5 py-1 text-gray-600 dark:bg-gray-800 dark:text-gray-400">
              <svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor">
                <path d="M18.364 17.364L12 23.728 5.636 17.364C2.121 13.849 2.121 8.151 5.636 4.636 9.151 1.121 14.849 1.121 18.364 4.636 21.879 8.151 21.879 13.849 18.364 17.364ZM12 13C13.105 13 14 12.105 14 11 14 9.895 13.105 9 12 9 10.895 9 10 9.895 10 11 10 12.105 10.895 13 12 13Z"></path>
              </svg>
              From IP: <span x-text="ip_address"></span>
            </span>

            <!-- Last checked -->
            <span class="inline-flex items-center gap-1.5 rounded-md bg-gray-100 px-2.5 py-1 text-gray-600 dark:bg-gray-800 dark:text-gray-400">
              <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" aria-hidden="true" class="remixicon -ml-0.5 size-4 shrink-0"><path d="M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22ZM13 12V7H11V14H17V12H13Z"></path></svg>
              Last run: <span x-text="domain.timestamp"></span>
            </span>
          </div>


<dl class="grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3">

    <div class="relative w-full rounded-lg border p-6 text-left shadow-sm bg-white dark:bg-[#090E1A] border-gray-200 dark:border-gray-900" >
        <dt class="text-sm font-medium text-gray-500 dark:text-gray-500">Status code</dt>
        <dd class="text-3xl font-semibold text-gray-900 dark:text-gray-50" x-text="domain.http_status"></dd>
        <dd class="mt-4 inline-flex items-center gap-x-1.5 rounded-md px-2 py-1.5 text-xs font-medium"
            :class="httpStatusInfo(domain.http_status).class"
            x-html="httpStatusInfo(domain.http_status).icon + ' ' + httpStatusInfo(domain.http_status).text">
        </dd>
    </div>

    <div class="relative w-full rounded-lg border p-6 text-left shadow-sm bg-white dark:bg-[#090E1A] border-gray-200 dark:border-gray-900" >
        <dt class="text-sm font-medium text-gray-500 dark:text-gray-500">Response time</dt>
        <dd class="text-3xl font-semibold text-gray-900 dark:text-gray-50" x-text="Number(domain.http_response_time_ms).toFixed(2)"></dd>
        <dd class="mt-4 inline-flex items-center gap-x-1.5 rounded-md px-2 py-1.5 text-xs font-medium"
            :class="responseTimeInfo(domain.http_response_time_ms).class"
            x-html="responseTimeInfo(domain.http_response_time_ms).icon + ' ' + responseTimeInfo(domain.http_response_time_ms).text">
        </dd>
    </div>

    <div class="relative w-full rounded-lg border p-6 text-left shadow-sm bg-white dark:bg-[#090E1A] border-gray-200 dark:border-gray-900" >
        <dt class="text-sm font-medium text-gray-500 dark:text-gray-500">SSL status</dt>
        <dd class="text-3xl font-semibold text-gray-900 dark:text-gray-50" x-text="domain.ssl_ok ? 'Valid' : 'Expiring'"></dd>
        <dd class="mt-4 inline-flex items-center gap-x-1.5 rounded-md px-2 py-1.5 text-xs font-medium"
            :class="sslStatusInfo(domain.ssl_ok).class">
            <span x-html="sslStatusInfo(domain.ssl_ok).icon"></span> Expires on: <span x-text="domain.ssl_expiry"></span>
        </dd>
    </div>


    <div class="relative w-full rounded-lg border p-6 text-left shadow-sm bg-white dark:bg-[#090E1A] border-gray-200 dark:border-gray-900" >
        <dt class="text-sm font-medium text-gray-500 dark:text-gray-500">WHOIS status</dt>
        <dd class="text-3xl font-semibold text-gray-900 dark:text-gray-50"  x-text="domain.whois_ok ? 'OK' : 'Expiring'"></dd>
        <dd class="mt-4 inline-flex items-center gap-x-1.5 rounded-md px-2 py-1.5 text-xs font-medium"
            :class="whoisStatusInfo(domain.whois_ok).class">
            <span x-html="whoisStatusInfo(domain.whois_ok).icon"></span> Expires on: <span x-text="domain.whois_expiry"></span>
        </dd>
    </div>

      <div class="relative w-full rounded-lg border p-6 text-left shadow-sm bg-white dark:bg-[#090E1A] border-gray-200 dark:border-gray-900" >
        <dt class="text-sm font-medium text-gray-500 dark:text-gray-500">IP address</dt>
        <dd class="text-3xl font-semibold text-gray-900 dark:text-gray-50" x-text="domain.resolved_ip"></dd>
    </div>

  
</dl>

  
        </div>
      </div>
    </template>
  </div>


  <!-- iframe -->
  <div x-show="showHidden" x-transition x-cloak class="mt-2 p-4 rounded text-gray-900 dark:text-gray-50">
    <p class="text-gray-700 dark:text-gray-300 mb-4">
      You can copy the following code to embed the status badge into your own website or application:
    </p>
    <p class="bg-gray-100 dark:bg-gray-800 p-2 rounded text-gray-900 dark:text-gray-50 break-words">
      <code x-text="`<iframe src='${origin}/status/iframe.html' width='250' height='30' frameborder='0' scrolling='no'></iframe>`"></code>
    </p>
    <p class="mt-2 text-gray-700 dark:text-gray-300 mb-4">
      Live preview: <iframe :src="`${origin}/status/iframe.html`" width="250" height="30" frameborder="0" scrolling="no" class="border rounded"></iframe>
    </p>
  </div>


  
</div>


<small class="mt-auto text-center p-5">⚡ Subscribe via RSS — <a href="index.xml" target="_blank" class="no-underline">to all updates</a> | <button @click="showHidden = !showHidden" class="">Badge</button> | <a href="status.json" target="_blank">JSON</a></small>
 
<script>
function domainMonitor() {
  return {
    ip_address: '',
    lastUpdated: '',
    domains: [],
    showHidden: false,
    origin: window.location.origin,
    get allUp() {
      return this.domains.every(d => d.http_ok && d.whois_ok && d.ssl_ok);
    },
    httpStatusInfo(status) {
      if (status < 200) {
        return {
          class: 'bg-yellow-100 text-yellow-800 dark:bg-yellow-400/10 dark:text-yellow-500',
          icon: `<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" aria-hidden="true" class="remixicon size-4 shrink-0"><path d="M12.0003 3C17.3924 3 21.8784 6.87976 22.8189 12C21.8784 17.1202 17.3924 21 12.0003 21C6.60812 21 2.12215 17.1202 1.18164 12C2.12215 6.87976 6.60812 3 12.0003 3ZM12.0003 19C16.2359 19 19.8603 16.052 20.7777 12C19.8603 7.94803 16.2359 5 12.0003 5C7.7646 5 4.14022 7.94803 3.22278 12C4.14022 16.052 7.7646 19 12.0003 19ZM12.0003 16.5C9.51498 16.5 7.50026 14.4853 7.50026 12C7.50026 9.51472 9.51498 7.5 12.0003 7.5C14.4855 7.5 16.5003 9.51472 16.5003 12C16.5003 14.4853 14.4855 16.5 12.0003 16.5ZM12.0003 14.5C13.381 14.5 14.5003 13.3807 14.5003 12C14.5003 10.6193 13.381 9.5 12.0003 9.5C10.6196 9.5 9.50026 10.6193 9.50026 12C9.50026 13.3807 10.6196 14.5 12.0003 14.5Z"></path></svg>`,
          text: 'bellow: 200'
        };
      } else if (status <= 410) {
        return {
          class: 'bg-emerald-100 text-emerald-800 dark:bg-emerald-400/10 dark:text-emerald-500',
          icon: `<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" aria-hidden="true" class="remixicon size-4 shrink-0"><path d="M9.9997 15.1709L19.1921 5.97852L20.6063 7.39273L9.9997 17.9993L3.63574 11.6354L5.04996 10.2212L9.9997 15.1709Z"></path></svg>`,
          text: 'within: 200-410'
        };
      } else if (status > 410) {
        return {
          class: 'bg-red-100 text-red-800 dark:bg-red-400/10 dark:text-red-500',
          icon: `<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" aria-hidden="true" class="remixicon size-4 shrink-0"><path d="M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22ZM12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20ZM11 15H13V17H11V15ZM11 7H13V13H11V7Z"></path></svg>`,
          text: 'critical: 410+'
        };
      } else {
        return {
          class: '',
          icon: '',
          text: 'unknown'
        };
      }
    },


    responseTimeInfo(ms) {
      if (ms < 200) {
        return {
          class: 'bg-emerald-100 text-emerald-800 dark:bg-emerald-400/10 dark:text-emerald-500',
          icon: `<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" aria-hidden="true" class="remixicon size-4 shrink-0"><path d="M9.9997 15.1709L19.1921 5.97852L20.6063 7.39273L9.9997 17.9993L3.63574 11.6354L5.04996 10.2212L9.9997 15.1709Z"></path></svg>`,
          text: 'fast: <200ms'
        };
      } else if (ms <= 500) {
        return {
          class: 'bg-yellow-100 text-yellow-800 dark:bg-yellow-400/10 dark:text-yellow-500',
          icon: `<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" aria-hidden="true" class="remixicon size-4 shrink-0"><path d="M12.0003 3C17.3924 3 21.8784 6.87976 22.8189 12C21.8784 17.1202 17.3924 21 12.0003 21C6.60812 21 2.12215 17.1202 1.18164 12C2.12215 6.87976 6.60812 3 12.0003 3ZM12.0003 19C16.2359 19 19.8603 16.052 20.7777 12C19.8603 7.94803 16.2359 5 12.0003 5C7.7646 5 4.14022 7.94803 3.22278 12C4.14022 16.052 7.7646 19 12.0003 19ZM12.0003 16.5C9.51498 16.5 7.50026 14.4853 7.50026 12C7.50026 9.51472 9.51498 7.5 12.0003 7.5C14.4855 7.5 16.5003 9.51472 16.5003 12C16.5003 14.4853 14.4855 16.5 12.0003 16.5ZM12.0003 14.5C13.381 14.5 14.5003 13.3807 14.5003 12C14.5003 10.6193 13.381 9.5 12.0003 9.5C10.6196 9.5 9.50026 10.6193 9.50026 12C9.50026 13.3807 10.6196 14.5 12.0003 14.5Z"></path></svg>`,
          text: 'moderate: 200–500ms'
        };
      } else if (ms > 500) {
        return {
          class: 'bg-red-100 text-red-800 dark:bg-red-400/10 dark:text-red-500',
          icon: `<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" aria-hidden="true" class="remixicon size-4 shrink-0"><path d="M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22ZM12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20ZM11 15H13V17H11V15ZM11 7H13V13H11V7Z"></path></svg>`,
          text: 'slow: >500ms'
        };
      } else {
        return {
          class: '',
          icon: '',
          text: 'unknown'
        };
      }
    },
    
    sslStatusInfo(isOk) {
      if (isOk) {
        return {
          class: 'bg-emerald-100 text-emerald-800 dark:bg-emerald-400/10 dark:text-emerald-500',
          icon: `<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" aria-hidden="true" class="remixicon size-4 shrink-0"><path d="M9.9997 15.1709L19.1921 5.97852L20.6063 7.39273L9.9997 17.9993L3.63574 11.6354L5.04996 10.2212L9.9997 15.1709Z"></path></svg>`,
        };
      } else {
        return {
          class: 'bg-red-100 text-red-800 dark:bg-red-400/10 dark:text-red-500',
          icon: `<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" aria-hidden="true" class="remixicon size-4 shrink-0"><path d="M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22ZM12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20ZM11 15H13V17H11V15ZM11 7H13V13H11V7Z"></path></svg>`,
        };
      }
    },
    whoisStatusInfo(isOk) {
      if (isOk) {
        return {
          class: 'bg-emerald-100 text-emerald-800 dark:bg-emerald-400/10 dark:text-emerald-500',
          icon: `<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" aria-hidden="true" class="remixicon size-4 shrink-0"><path d="M9.9997 15.1709L19.1921 5.97852L20.6063 7.39273L9.9997 17.9993L3.63574 11.6354L5.04996 10.2212L9.9997 15.1709Z"></path></svg>`,
        };
      } else {
        return {
          class: 'bg-red-100 text-red-800 dark:bg-red-400/10 dark:text-red-500',
          icon: `<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" aria-hidden="true" class="remixicon size-4 shrink-0"><path d="M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22ZM12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20ZM11 15H13V17H11V15ZM11 7H13V13H11V7Z"></path></svg>`,
        };
      }
    },
  
    whoisColor(ok) {
      return ok ? 'bg-emerald-100 text-emerald-800 dark:bg-emerald-400/10 dark:text-emerald-500' : 'bg-red-100 text-red-800 dark:bg-red-400/10 dark:text-red-500';
    },
    async init() {
      const res = await fetch('status.json?_=' + Date.now());
      const data = await res.json();
      this.ip_address = data.ip_address;
      this.lastUpdated = data.last_updated;
      this.domains = data.domains.map(d => {
        const h = d.history_entry;
        return {
          domain: d.domain,
          ip_address: d.ip_address,
          whois_expiry: d.whois_expiry,
          ssl_expiry: d.ssl_expiry,
          nameservers: d.nameservers,
          open: !(h.http_ok && h.whois_ok && h.ssl_ok),
          http_status: h.http_status,
          http_ok: h.http_ok,
          whois_ok: h.whois_ok,
          ssl_ok: h.ssl_ok,
          http_response_time_ms: h.http_response_time_ms,
          timestamp: h.timestamp,
          resolved_ip: h.resolved_ip
        };
      });
     
      document.title = `Status Page — (${this.domains.length} domain${this.domains.length !== 1 ? 's' : ''})`;  // update browser tab
    }
  }
}
</script>

</body>
</html>
